<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Ultimate Exam Prep Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* --- GLOBAL & FLUID SIM STYLES --- */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        background: #000;
        color: #f0f0f0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        overflow: hidden;
        cursor: none;
      }
      #fluid-canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
        pointer-events: none;
        opacity: 0.55;
      }
      .cursor {
        position: fixed;
        width: 12px;
        height: 12px;
        background: #ff00ff;
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
        transition: transform 0.1s ease;
        box-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 20px #ff00ff,
          0 0 40px #ff00ff, inset 0 0 8px #fff;
      }

      /* --- MAIN CONTENT WRAPPER --- */
      #main-content {
        position: relative;
        z-index: 10;
        opacity: 0;
        transition: opacity 1s ease-in 0.5s;
      }
      #main-content.visible {
        opacity: 1;
      }

      /* --- LOADER STYLES --- */
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap");
      #loader {
        transition: all 0.5s cubic-bezier(0.5, 0, 0.5, 1);
      }
      .digit-container {
        height: 1em;
        font-family: "Roboto Mono", monospace;
      }
      .digit-roller {
        transition: transform 0.3s ease-out;
        line-height: 1;
      }

      /* --- EXAM SELECTOR SECTION (HERO) --- */
      #exam-selector-section {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 80px 20px;
        background-color: rgba(0, 0, 0, 0.6);
      }
      .exam-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 40px;
        justify-items: center;
        transition: filter 0.3s ease;
      }
      .exam-item {
        font-size: 1.4rem;
        cursor: pointer;
        opacity: 0;
        animation: fadeIn 1s forwards;
        transition: transform 0.3s ease, color 0.3s ease;
      }
      .exam-item:hover {
        color: #9b5de5;
        transform: scale(1.05);
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }
      .choose-btn {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.95);
        background: linear-gradient(90deg, #438eff, #9b5de5);
        border: none;
        color: white;
        font-size: 1.2rem;
        padding: 14px 32px;
        border-radius: 40px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        white-space: nowrap;
        transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;
        box-shadow: 0 0 20px rgba(155, 93, 229, 0.4);
        z-index: 12;
        visibility: hidden;
        opacity: 0;
      }
      .choose-btn::after {
        content: "‚Üí";
        font-weight: bold;
      }
      .choose-btn.active {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        visibility: visible;
      }
      .choose-btn:hover {
        background: linear-gradient(90deg, #9b5de5, #438eff);
        transform: translate(-50%, -50%) scale(1.05);
      }
      .blur {
        filter: blur(6px);
      }

      /* --- FADE IN ON SCROLL --- */
      .fade-in-section {
        opacity: 0;
        filter: blur(8px);
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, filter 0.8s ease-out,
          transform 0.8s ease-out;
      }
      .fade-in-section.is-visible {
        opacity: 1;
        filter: blur(0);
        transform: translateY(0);
      }

      /* --- HOMEPAGE FEATURE STYLES (Content Edited) --- */
      .features-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 40px 20px;
        overflow: hidden;
        background-color: rgba(0, 0, 0, 0.6);
      }
      .features-container {
        width: 100%;
        max-width: 1200px;
        border-radius: 24px;
        padding: 40px 60px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        background-color: #1a1a1a;
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
      }
      .header p {
        color: #a855f7;
        font-size: 0.9rem;
        letter-spacing: 1px;
      }
      .header h1 {
        font-size: 3.5rem;
        font-weight: 600;
        color: #e879f9;
        margin: 10px 0 0;
      }
      .tabs {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #2a2a2a;
        border-radius: 16px;
        padding: 8px;
        margin-bottom: 40px;
        gap: 8px;
      }
      .tab-item {
        flex: 1;
        padding: 14px 20px;
        border: none;
        color: #c084fc;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        position: relative;
        z-index: 2;
        transition: all 0.4s ease;
        border-radius: 12px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        background-color: transparent;
      }
      .tab-item .tab-content-wrapper {
        position: relative;
        z-index: 2;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .tab-item.active {
        transform: scale(1.05);
        color: #e879f9;
      }
      .tab-icon {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        color: #333;
        font-weight: bold;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        position: relative;
        transition: all 0.3s ease;
      }
      .live-classes-icon {
        background: linear-gradient(
          135deg,
          #fecaca 0%,
          #fca5a5 50%,
          #f87171 100%
        );
      }
      .mock-tests-icon {
        background: linear-gradient(
          135deg,
          #fde68a 0%,
          #fbbf24 50%,
          #f59e0b 100%
        );
      }
      .doubt-solving-icon {
        background: linear-gradient(
          135deg,
          #bbf7d0 0%,
          #86efac 50%,
          #4ade80 100%
        );
      }
      .study-material-icon {
        background: linear-gradient(
          135deg,
          #a5f3fc 0%,
          #67e8f9 50%,
          #22d3ee 100%
        );
      }
      .live-classes-icon::after {
        content: "üßë‚Äçüè´";
        font-size: 18px;
      }
      .mock-tests-icon::after {
        content: "üìà";
        font-size: 18px;
      }
      .doubt-solving-icon::after {
        content: "‚ùì";
        font-size: 18px;
      }
      .study-material-icon::after {
        content: "üìö";
        font-size: 18px;
      }
      .tab-item:hover .tab-icon {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }
      .tab-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: var(--progress, 0%);
        background: linear-gradient(
          90deg,
          rgba(168, 85, 247, 0.3) 0%,
          rgba(168, 85, 247, 0.5) 50%,
          rgba(168, 85, 247, 0.7) 100%
        );
        border-radius: 12px;
        z-index: 1;
        transition: none;
        filter: blur(1px);
      }
      .tab-item.active::before {
        filter: blur(1px);
        box-shadow: inset 0 0 20px rgba(168, 85, 247, 0.2),
          0 0 30px rgba(168, 85, 247, 0.1);
      }
      .content-area {
        position: relative;
        min-height: 400px;
      }
      .content-pane {
        display: grid;
        grid-template-columns: 1fr 1fr;
        align-items: center;
        gap: 40px;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        opacity: 0;
        visibility: hidden;
      }
      .text-content h2 {
        font-size: 2.5rem;
        color: #e879f9;
        font-weight: 500;
        margin-bottom: 20px;
      }
      .text-content p {
        font-size: 1.1rem;
        color: #c084fc;
        line-height: 1.6;
      }
      .visual-content img {
        width: 100%;
        max-width: 500px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      }

      /* --- CAROUSEL STYLES --- */
      .carousel-section {
        background-color: rgba(13, 13, 15, 0.6);
        padding: 4rem 2rem;
        color: #f0f0f0;
      }
      .image-container {
        position: relative;
        cursor: pointer;
        overflow: hidden;
      }
      .image-primary,
      .image-secondary {
        transition: opacity 0.3s ease-in-out;
      }
      .image-secondary {
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        z-index: 10;
      }
      .image-container:hover .image-secondary {
        opacity: 1;
      }
      .image-container img {
        width: 100%;
        height: auto;
        display: block;
      }

      /* --- STATISTICS STYLES (Content Edited) --- */
      .stats-section {
        background-color: rgba(13, 13, 15, 0.6);
      }
      .stats-container {
        display: flex;
        justify-content: space-around;
        align-items: flex-start;
        padding: 60px 40px;
        gap: 40px;
        flex-wrap: wrap;
      }
      .card {
        flex: 1;
        background: #1a1a1a;
        border: 1px solid #2a2a2a;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        padding: 40px 30px;
        min-width: 280px;
        position: relative;
        border-radius: 20px;
      }
      .card h2 {
        text-transform: none;
        font-size: 0.95rem;
        font-weight: 400;
        color: #cccccc;
        line-height: 1.3rem;
        margin: 0 0 25px;
      }
      .title-line {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
      }
      .unit-right {
        font-size: 1.05rem;
        color: #7a7a7a;
        margin-top: 2px;
      }
      .main-row {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-bottom: 10px;
      }
      .main-value {
        font-size: 2.6rem;
        font-weight: 500;
        margin: 0;
        line-height: 1;
        color: #ffffff;
      }
      .change-block {
        text-align: right;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: flex-end;
        height: 2.6rem;
      }
      .from-year {
        font-size: 0.85rem;
        color: #888;
        margin-bottom: 4px;
      }
      .percent-change {
        font-size: 1.6rem;
        font-weight: 600;
        color: #9b5de5;
        line-height: 1;
      }
      .bars {
        margin-top: 20px;
      }
      .bar-row {
        margin-bottom: 14px;
      }
      .bar-label {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
        color: #aaaaaa;
        margin-bottom: 4px;
      }
      .bar-bg {
        background: #222;
        border-radius: 4px;
        height: 8px;
        overflow: hidden;
      }
      .bar-fill-dark {
        height: 8px;
        border-radius: 4px;
        background: linear-gradient(90deg, #438eff, #9b5de5);
        width: 0%;
        transition: width 2s ease-out;
      }
      .bar-fill-light {
        height: 8px;
        border-radius: 4px;
        background: linear-gradient(90deg, #556bff55, #a45de855);
        width: 0%;
        transition: width 2s ease-out;
      }
      .footer-note {
        font-size: 0.8rem;
        color: #aaa;
        margin-top: 25px;
        text-align: left;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .footer-note a {
        color: #9b5de5;
        text-decoration: none;
        font-weight: 500;
      }
      .footer-note a:hover {
        color: #438eff;
      }
      .download-icon {
        width: 14px;
        height: 14px;
        display: inline-block;
        vertical-align: middle;
        margin-left: 4px;
      }
      .download-icon svg {
        fill: #9b5de5;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <canvas id="fluid-canvas"></canvas>
    <div class="cursor" id="cursor"></div>

    <div
      id="loader"
      class="fixed inset-0 bg-black flex flex-col items-center justify-center scale-100 opacity-100 z-50"
    >
      <!-- Bottom-Left Number Counter Area -->
      <div class="absolute bottom-10 left-10 text-white flex select-none">
        <div id="counter-display" class="flex text-7xl md:text-8xl">
          <!-- Digit Roller for the tens place -->
          <div
            id="digit-0"
            class="inline-block overflow-hidden font-mono align-top digit-container"
          >
            <div class="digit-roller">
              <span class="block w-full text-center">0</span
              ><span class="block w-full text-center">1</span
              ><span class="block w-full text-center">2</span
              ><span class="block w-full text-center">3</span
              ><span class="block w-full text-center">4</span
              ><span class="block w-full text-center">5</span
              ><span class="block w-full text-center">6</span
              ><span class="block w-full text-center">7</span
              ><span class="block w-full text-center">8</span
              ><span class="block w-full text-center">9</span>
            </div>
          </div>
          <!-- Digit Roller for the ones place -->
          <div
            id="digit-1"
            class="inline-block overflow-hidden font-mono align-top digit-container"
          >
            <div class="digit-roller">
              <span class="block w-full text-center">0</span
              ><span class="block w-full text-center">1</span
              ><span class="block w-full text-center">2</span
              ><span class="block w-full text-center">3</span
              ><span class="block w-full text-center">4</span
              ><span class="block w-full text-center">5</span
              ><span class="block w-full text-center">6</span
              ><span class="block w-full text-center">7</span
              ><span class="block w-full text-center">8</span
              ><span class="block w-full text-center">9</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Centered Progress Bar Area -->
      <div class="w-1/2 max-w-lg">
        <div class="h-4 bg-gray-700 rounded-full overflow-hidden shadow-2xl">
          <div
            id="progress-bar"
            class="h-full bg-white transition-all duration-300 ease-out rounded-full"
            style="width: 1%"
          ></div>
        </div>
      </div>
    </div>

    <!-- 2. Your custom website content goes HERE. 
         It will be hidden until the loader (above) is finished.
         Since the body background is black, the screen will be black initially.
         You should add your main layout/content below this line. 
    -->

    <main id="main-content">
      <section id="homepage">
        <div class="features-wrapper">
          <div class="features-container">
            <div class="header">
              <p>STRUCTURE, STRATEGY, AND SUCCESS</p>
              <h1>Your Ultimate Exam Prep Platform</h1>
            </div>
            <div class="tabs">
              <button data-tab="live-classes" class="tab-item active">
                <div class="tab-content-wrapper">
                  <div class="tab-icon live-classes-icon"></div>
                  <span>Live Classes</span>
                </div>
              </button>
              <button data-tab="mock-tests" class="tab-item">
                <div class="tab-content-wrapper">
                  <div class="tab-icon mock-tests-icon"></div>
                  <span>Mock Tests</span>
                </div>
              </button>
              <button data-tab="doubt-solving" class="tab-item">
                <div class="tab-content-wrapper">
                  <div class="tab-icon doubt-solving-icon"></div>
                  <span>Doubt Solving</span>
                </div>
              </button>
              <button data-tab="study-material" class="tab-item">
                <div class="tab-content-wrapper">
                  <div class="tab-icon study-material-icon"></div>
                  <span>Study Material</span>
                </div>
              </button>
            </div>
            <div class="content-area">
              <div class="content-pane" data-content="live-classes">
                <div class="text-content">
                  <h2>Interactive Live Classes</h2>
                  <p>
                    Learn from India's top educators in real-time. Engage in
                    live polls, quizzes, and discussions to master every
                    concept.
                  </p>
                </div>
                <div class="visual-content">
                  <img
                    src="https://i.imgur.com/gV51CVI.png"
                    alt="Live Classes"
                  />
                </div>
              </div>
              <div class="content-pane" data-content="mock-tests">
                <div class="text-content">
                  <h2>AI-Powered Mock Tests</h2>
                  <p>
                    Experience real exam conditions with our full-length and
                    chapter-wise mock tests. Get detailed performance analysis
                    and AI-based feedback.
                  </p>
                </div>
                <div class="visual-content">
                  <img src="https://i.imgur.com/h54N1H3.png" alt="Mock Tests" />
                </div>
              </div>
              <div class="content-pane" data-content="doubt-solving">
                <div class="text-content">
                  <h2>24/7 Doubt Resolution</h2>
                  <p>
                    Never get stuck on a question again. Get instant solutions
                    to your academic doubts from our expert faculty, anytime you
                    need.
                  </p>
                </div>
                <div class="visual-content">
                  <img
                    src="https://i.imgur.com/tOa322x.png"
                    alt="Doubt Solving"
                  />
                </div>
              </div>
              <div class="content-pane" data-content="study-material">
                <div class="text-content">
                  <h2>Curated Study Resources</h2>
                  <p>
                    Access a vast library of comprehensive notes, video
                    lectures, and practice question banks designed by subject
                    matter experts.
                  </p>
                </div>
                <div class="visual-content">
                  <img
                    src="https://i.imgur.com/gV51CVI.png"
                    alt="Study Material"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="carousel" class="carousel-section fade-in-section">
        <div class="mt-12 mb-12">
          <h2 class="text-3xl font-bold text-fuchsia-400 mb-6 text-center">
            Master Complex Concepts Visually
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            <div
              class="image-container rounded-xl shadow-2xl ring-4 ring-purple-500/50"
            >
              <img
                src="https://placehold.co/600x600/6366f1/ffffff?text=Organic+Chemistry+(Structure)"
                class="image-primary"
              /><img
                src="https://placehold.co/600x600/4f46e5/ffffff?text=Organic+Chemistry+(Mechanism)"
                class="image-secondary"
              />
            </div>
            <div
              class="image-container rounded-xl shadow-2xl ring-4 ring-purple-500/50"
            >
              <img
                src="https://placehold.co/600x600/ec4899/ffffff?text=Newtonian+Physics+(Problem)"
                class="image-primary"
              /><img
                src="https://placehold.co/600x600/db2777/ffffff?text=Newtonian+Physics+(Solution)"
                class="image-secondary"
              />
            </div>
          </div>
          <p class="text-center text-purple-300 mt-6">
            Hover over an image to see the reaction mechanism or problem
            solution.
          </p>
        </div>
      </section>

      <section id="statistics" class="stats-section fade-in-section">
        <div class="stats-container">
          <div class="card">
            <div class="title-line">
              <h2>Total Questions<br />Practiced</h2>
            </div>
            <div class="main-row">
              <p class="main-value">1.2 Million+</p>
              <div class="change-block">
                <span class="from-year">from 2024</span
                ><span class="percent-change">‚Üë 45%</span>
              </div>
            </div>
            <div class="bars">
              <div class="bar-row" data-value="1200000" data-width="100">
                <div class="bar-label">
                  <span>2025</span><span class="num">0</span>
                </div>
                <div class="bar-bg"><div class="bar-fill-dark"></div></div>
              </div>
              <div class="bar-row" data-value="820000" data-width="68">
                <div class="bar-label">
                  <span>2024</span><span class="num">0</span>
                </div>
                <div class="bar-bg"><div class="bar-fill-light"></div></div>
              </div>
            </div>
            <div class="footer-note">
              <a href="#">Explore Question Banks ‚Üí</a>
            </div>
          </div>
          <div class="card">
            <div class="title-line">
              <h2>Mock Tests<br />Taken</h2>
            </div>
            <div class="main-row">
              <p class="main-value">85,000+</p>
              <div class="change-block">
                <span class="from-year">from 2024</span
                ><span class="percent-change">‚Üë 60%</span>
              </div>
            </div>
            <div class="bars">
              <div class="bar-row" data-value="85000" data-width="100">
                <div class="bar-label">
                  <span>2025</span><span class="num">0</span>
                </div>
                <div class="bar-bg"><div class="bar-fill-dark"></div></div>
              </div>
              <div class="bar-row" data-value="53000" data-width="62">
                <div class="bar-label">
                  <span>2024</span><span class="num">0</span>
                </div>
                <div class="bar-bg"><div class="bar-fill-light"></div></div>
              </div>
            </div>
            <div class="footer-note"><a href="#">View Test Series ‚Üí</a></div>
          </div>
          <div class="card">
            <div class="title-line">
              <h2>Student Doubts<br />Solved</h2>
            </div>
            <div class="main-row">
              <p class="main-value">500,000+</p>
              <div class="change-block">
                <span class="from-year">from 2024</span
                ><span class="percent-change">‚Üë 75%</span>
              </div>
            </div>
            <div class="bars">
              <div class="bar-row" data-value="500000" data-width="100">
                <div class="bar-label">
                  <span>2025</span><span class="num">0</span>
                </div>
                <div class="bar-bg"><div class="bar-fill-dark"></div></div>
              </div>
              <div class="bar-row" data-value="285000" data-width="57">
                <div class="bar-label">
                  <span>2024</span><span class="num">0</span>
                </div>
                <div class="bar-bg"><div class="bar-fill-light"></div></div>
              </div>
            </div>
            <div class="footer-note">
              <a href="#">Learn about our Mentors ‚Üí</a>
            </div>
          </div>
        </div>
      </section>

      <section id="exam-selector-section" class="fade-in-section">
        <div class="container">
          <div class="exam-grid" id="examGrid">
            <div class="exam-item">JEE Main</div>
            <div class="exam-item">NEET-UG</div>
            <div class="exam-item">CUET-UG</div>
            <div class="exam-item">CA Foundation</div>
            <div class="exam-item">NDA</div>
            <div class="exam-item">NATA</div>
          </div>
          <button class="choose-btn" id="chooseBtn">Choose your path</button>
        </div>
      </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script>
      // --- FLUID SIMULATION SCRIPT ---
      const fluidCanvas = document.getElementById("fluid-canvas");
      const ctx = fluidCanvas.getContext("2d");
      const customCursor = document.getElementById("cursor");
      let mouseX = 0,
        mouseY = 0,
        prevMouseX = 0,
        prevMouseY = 0;
      const GRID_SIZE = 80,
        VISCOSITY = 0.000005,
        DIFFUSION = 0.000005,
        DT = 0.016;
      const PURPLE_COLORS = [
        [168, 85, 247],
        [147, 51, 234],
        [196, 125, 255],
      ];
      function initCanvas() {
        fluidCanvas.width = window.innerWidth;
        fluidCanvas.height = window.innerHeight;
        ctx.imageSmoothingEnabled = true;
        ctx.imageSmoothingQuality = "high";
      }
      class FluidGrid {
        constructor(size) {
          this.size = size;
          this.dt = DT;
          this.diff = DIFFUSION;
          this.visc = VISCOSITY;
          const arrSize = size * size;
          this.Vx = new Array(arrSize).fill(0);
          this.Vy = new Array(arrSize).fill(0);
          this.Vx0 = new Array(arrSize).fill(0);
          this.Vy0 = new Array(arrSize).fill(0);
          this.density = new Array(arrSize).fill(0);
          this.s = new Array(arrSize).fill(0);
          this.colorIndex = new Array(arrSize).fill(0);
        }
        IX(x, y) {
          return x + y * this.size;
        }
        addDensity(x, y, amount, colorIdx = 0) {
          const i = this.IX(x, y);
          this.density[i] += amount;
          this.colorIndex[i] = colorIdx;
        }
        addVelocity(x, y, amountX, amountY) {
          const i = this.IX(x, y);
          this.Vx[i] += amountX;
          this.Vy[i] += amountY;
        }
        diffuse(b, x, x0, diff, dt) {
          const a = dt * diff * (this.size - 2) * (this.size - 2);
          this.lin_solve(b, x, x0, a, 1 + 6 * a, 4);
        }
        lin_solve(b, x, x0, a, c, iter) {
          const cRecip = 1.0 / c;
          for (let k = 0; k < iter; k++) {
            for (let j = 1; j < this.size - 1; j++) {
              for (let i = 1; i < this.size - 1; i++) {
                x[this.IX(i, j)] =
                  (x0[this.IX(i, j)] +
                    a *
                      (x[this.IX(i + 1, j)] +
                        x[this.IX(i - 1, j)] +
                        x[this.IX(i, j + 1)] +
                        x[this.IX(i, j - 1)])) *
                  cRecip;
              }
            }
            this.set_bnd(b, x);
          }
        }
        project(velocX, velocY, p, div) {
          for (let j = 1; j < this.size - 1; j++) {
            for (let i = 1; i < this.size - 1; i++) {
              div[this.IX(i, j)] =
                (-0.5 *
                  (velocX[this.IX(i + 1, j)] -
                    velocX[this.IX(i - 1, j)] +
                    velocY[this.IX(i, j + 1)] -
                    velocY[this.IX(i, j - 1)])) /
                this.size;
              p[this.IX(i, j)] = 0;
            }
          }
          this.set_bnd(0, div);
          this.set_bnd(0, p);
          this.lin_solve(0, p, div, 1, 6, 4);
          for (let j = 1; j < this.size - 1; j++) {
            for (let i = 1; i < this.size - 1; i++) {
              velocX[this.IX(i, j)] -=
                0.5 * (p[this.IX(i + 1, j)] - p[this.IX(i - 1, j)]) * this.size;
              velocY[this.IX(i, j)] -=
                0.5 * (p[this.IX(i, j + 1)] - p[this.IX(i, j - 1)]) * this.size;
            }
          }
          this.set_bnd(1, velocX);
          this.set_bnd(2, velocY);
        }
        advect(b, d, d0, velocX, velocY, dt) {
          const dtx = dt * (this.size - 2),
            dty = dt * (this.size - 2);
          for (let j = 1; j < this.size - 1; j++) {
            for (let i = 1; i < this.size - 1; i++) {
              let x = i - dtx * velocX[this.IX(i, j)];
              let y = j - dty * velocY[this.IX(i, j)];
              if (x < 0.5) x = 0.5;
              if (x > this.size + 0.5) x = this.size + 0.5;
              let i0 = Math.floor(x),
                i1 = i0 + 1.0;
              if (y < 0.5) y = 0.5;
              if (y > this.size + 0.5) y = this.size + 0.5;
              let j0 = Math.floor(y),
                j1 = j0 + 1.0;
              let s1 = x - i0,
                s0 = 1.0 - s1,
                t1 = y - j0,
                t0 = 1.0 - t1;
              i0 = Math.max(0, Math.min(this.size - 1, i0));
              i1 = Math.max(0, Math.min(this.size - 1, i1));
              j0 = Math.max(0, Math.min(this.size - 1, j0));
              j1 = Math.max(0, Math.min(this.size - 1, j1));
              d[this.IX(i, j)] =
                s0 * (t0 * d0[this.IX(i0, j0)] + t1 * d0[this.IX(i0, j1)]) +
                s1 * (t0 * d0[this.IX(i1, j0)] + t1 * d0[this.IX(i1, j1)]);
            }
          }
          this.set_bnd(b, d);
        }
        set_bnd(b, x) {
          for (let i = 1; i < this.size - 1; i++) {
            x[this.IX(i, 0)] = b == 2 ? -x[this.IX(i, 1)] : x[this.IX(i, 1)];
            x[this.IX(i, this.size - 1)] =
              b == 2
                ? -x[this.IX(i, this.size - 2)]
                : x[this.IX(i, this.size - 2)];
          }
          for (let j = 1; j < this.size - 1; j++) {
            x[this.IX(0, j)] = b == 1 ? -x[this.IX(1, j)] : x[this.IX(1, j)];
            x[this.IX(this.size - 1, j)] =
              b == 1
                ? -x[this.IX(this.size - 2, j)]
                : x[this.IX(this.size - 2, j)];
          }
          x[this.IX(0, 0)] = 0.5 * (x[this.IX(1, 0)] + x[this.IX(0, 1)]);
          x[this.IX(0, this.size - 1)] =
            0.5 * (x[this.IX(1, this.size - 1)] + x[this.IX(0, this.size - 2)]);
          x[this.IX(this.size - 1, 0)] =
            0.5 * (x[this.IX(this.size - 2, 0)] + x[this.IX(this.size - 1, 1)]);
          x[this.IX(this.size - 1, this.size - 1)] =
            0.5 *
            (x[this.IX(this.size - 2, this.size - 1)] +
              x[this.IX(this.size - 1, this.size - 2)]);
        }
        fluidStep() {
          this.diffuse(1, this.Vx0, this.Vx, this.visc, this.dt);
          this.diffuse(2, this.Vy0, this.Vy, this.visc, this.dt);
          this.project(this.Vx0, this.Vy0, this.Vx, this.Vy);
          this.advect(1, this.Vx, this.Vx0, this.Vx0, this.Vy0, this.dt);
          this.advect(2, this.Vy, this.Vy0, this.Vx0, this.Vy0, this.dt);
          this.project(this.Vx, this.Vy, this.Vx0, this.Vy0);
          this.diffuse(0, this.s, this.density, this.diff, this.dt);
          this.advect(0, this.density, this.s, this.Vx, this.Vy, this.dt);
          for (let i = 0; i < this.density.length; i++) {
            this.density[i] *= 0.92;
          }
        }
        render() {
          ctx.clearRect(0, 0, fluidCanvas.width, fluidCanvas.height);
          for (let i = 0; i < this.size; i++) {
            for (let j = 0; j < this.size; j++) {
              const density = this.density[this.IX(i, j)];
              if (density > 0.05) {
                const color =
                  PURPLE_COLORS[
                    this.colorIndex[this.IX(i, j)] % PURPLE_COLORS.length
                  ];
                const alpha = Math.min(0.4, density * 1.0);
                const cellWidth = fluidCanvas.width / this.size,
                  cellHeight = fluidCanvas.height / this.size;
                const centerX = i * cellWidth + cellWidth / 2,
                  centerY = j * cellHeight + cellHeight / 2;
                const radius = Math.max(cellWidth, cellHeight) * 2;
                const gradient = ctx.createRadialGradient(
                  centerX,
                  centerY,
                  0,
                  centerX,
                  centerY,
                  radius
                );
                gradient.addColorStop(
                  0,
                  rgba(${color[0]}, ${color[1]}, ${color[2]}, ${alpha})
                );
                gradient.addColorStop(
                  0.5,
                  rgba(${color[0]}, ${color[1]}, ${color[2]}, ${alpha * 0.5})
                );
                gradient.addColorStop(
                  1,
                  rgba(${color[0]}, ${color[1]}, ${color[2]}, 0)
                );
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.fill();
              }
            }
          }
        }
      }
      const fluid = new FluidGrid(GRID_SIZE);
      let colorCounter = 0;
      document.addEventListener("mousemove", (e) => {
        prevMouseX = mouseX;
        prevMouseY = mouseY;
        mouseX = e.clientX;
        mouseY = e.clientY;
        customCursor.style.left = mouseX - 6 + "px";
        customCursor.style.top = mouseY - 6 + "px";
        const velocityX = (mouseX - prevMouseX) * 0.2,
          velocityY = (mouseY - prevMouseY) * 0.2;
        const fluidX = Math.floor((mouseX / fluidCanvas.width) * GRID_SIZE),
          fluidY = Math.floor((mouseY / fluidCanvas.height) * GRID_SIZE);
        if (
          fluidX > 1 &&
          fluidX < GRID_SIZE - 1 &&
          fluidY > 1 &&
          fluidY < GRID_SIZE - 1
        ) {
          const currentColor =
            Math.floor(colorCounter / 15) % PURPLE_COLORS.length;
          colorCounter++;
          fluid.addDensity(fluidX, fluidY, 60, currentColor);
          fluid.addVelocity(fluidX, fluidY, velocityX * 0.3, velocityY * 0.3);
          const neighbors = [
            [-1, 0],
            [1, 0],
            [0, -1],
            [0, 1],
          ];
          for (const [dx, dy] of neighbors) {
            const nx = fluidX + dx,
              ny = fluidY + dy;
            if (nx > 0 && nx < GRID_SIZE && ny > 0 && ny < GRID_SIZE) {
              fluid.addDensity(nx, ny, 15, currentColor);
              fluid.addVelocity(nx, ny, velocityX * 0.1, velocityY * 0.1);
            }
          }
        }
      });
      let lastTime = 0;
      function animate(currentTime) {
        if (currentTime - lastTime >= 16) {
          fluid.fluidStep();
          fluid.render();
          lastTime = currentTime;
        }
        requestAnimationFrame(animate);
      }
      initCanvas();
      animate(0);
      window.addEventListener("resize", initCanvas);
      document.addEventListener("mouseleave", () => {
        customCursor.style.opacity = "0";
      });
      document.addEventListener("mouseenter", () => {
        customCursor.style.opacity = "1";
      });

      // --- ALL OTHER PAGE SCRIPTS ---
      document.addEventListener("DOMContentLoaded", () => {
        // --- LOADER LOGIC ---
        const loader = document.getElementById("loader");
        const progressBar = document.getElementById("progress-bar");
        const mainContent = document.getElementById("main-content");
        const digitRollers = [
          document.querySelector("#digit-0 .digit-roller"),
          document.querySelector("#digit-1 .digit-roller"),
          document.querySelector("#digit-2 .digit-roller"),
        ];

        const updateCounter = (currentProgress) => {
          const progressString = currentProgress.toString().padStart(3, "0");
          const digits = progressString.split("").map(Number);

          digits.forEach((digit, index) => {
            if (digitRollers[index]) {
              const yOffset = digit * 1;
              digitRollers[index].style.transform = translateY(-${yOffset}em);
            }
          });
        };

        const completeLoader = () => {
          loader.classList.add("scale-[2000%]", "opacity-0");
          setTimeout(() => {
            loader.style.display = "none";
            document.body.style.overflow = "auto";
            mainContent.classList.add("visible");
            initializeHomepageFeatures();
          }, 500);
        };

        let progress = 0;
        const totalDuration = 2000;
        const intervalTime = totalDuration / 101;

        updateCounter(0); // Set initial state to 000

        const interval = setInterval(() => {
          progress++;
          progressBar.style.width = ${progress}%;
          updateCounter(progress);

          if (progress >= 100) {
            clearInterval(interval);
            setTimeout(completeLoader, 400);
          }
        }, intervalTime);

        // --- EXAM SELECTOR LOGIC ---
        const examGrid = document.getElementById("examGrid");
        const chooseBtn = document.getElementById("chooseBtn");
        const secondSet = [
          "NIFT Entrance Exam",
          "FTII/SRFTI Entrance Exam",
          "IISER Aptitude Test (IAT)",
          "CLAT",
          "AME CET",
          "IPMAT",
        ];
        setTimeout(() => {
          const exams = examGrid.querySelectorAll(".exam-item");
          exams.forEach((exam, i) => {
            exam.style.opacity = 0;
            setTimeout(() => {
              exam.textContent = secondSet[i];
              exam.style.opacity = 1;
            }, 1000);
          });
        }, 4000);
        let buttonLocked = false,
          hideTimeout = null;
        const examItems = document.querySelectorAll(".exam-item");
        function showButton() {
          if (!buttonLocked) {
            clearTimeout(hideTimeout);
            examGrid.classList.add("blur");
            chooseBtn.classList.add("active");
          }
        }
        function hideButton() {
          if (!buttonLocked) {
            hideTimeout = setTimeout(() => {
              chooseBtn.classList.remove("active");
              examGrid.classList.remove("blur");
            }, 200);
          }
        }
        examItems.forEach((exam) => {
          exam.addEventListener("mouseenter", showButton);
          exam.addEventListener("mouseleave", hideButton);
        });
        chooseBtn.addEventListener("mouseenter", showButton);
        chooseBtn.addEventListener("mouseleave", hideButton);
        chooseBtn.addEventListener("click", (e) => {
          e.preventDefault();
          buttonLocked = true;
          examGrid.classList.add("blur");
          chooseBtn.classList.add("active");
        });

        // --- HIDE BUTTON ON SCROLL LOGIC ---
        const examSection = document.getElementById("exam-selector-section");
        const examObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (!entry.isIntersecting) {
                chooseBtn.classList.remove("active");
                examGrid.classList.remove("blur");
                chooseBtn.style.pointerEvents = "none";
              } else {
                chooseBtn.style.pointerEvents = "auto";
              }
            });
          },
          { threshold: 0.1 }
        );
        examObserver.observe(examSection);

        // --- HOMEPAGE FEATURES LOGIC ---
        function initializeHomepageFeatures() {
          const DURATION = 8;
          const tabOrder = [
            "live-classes",
            "mock-tests",
            "doubt-solving",
            "study-material",
          ];
          let currentIndex = 0,
            currentTween;
          const tabButtons = document.querySelectorAll(".tab-item"),
            contentPanes = document.querySelectorAll(".content-pane");
          function switchToNextTab() {
            currentIndex = (currentIndex + 1) % tabOrder.length;
            updateFeature(tabOrder[currentIndex]);
          }
          function updateFeature(newTabId) {
            currentIndex = tabOrder.indexOf(newTabId);
            if (currentTween) currentTween.kill();
            tabButtons.forEach((btn) => gsap.set(btn, { "--progress": "0%" }));
            const newActiveTabElement = document.querySelector(
              [data-tab="${newTabId}"]
            );
            contentPanes.forEach((pane) => {
              const isNewActivePane = pane.dataset.content === newTabId;
              gsap.to(pane, {
                autoAlpha: isNewActivePane ? 1 : 0,
                y: isNewActivePane ? 0 : 15,
                duration: 0.6,
                delay: 0.1,
                ease: "power1.out",
              });
            });
            tabButtons.forEach((btn) => btn.classList.remove("active"));
            newActiveTabElement.classList.add("active");
            currentTween = gsap.to(newActiveTabElement, {
              "--progress": "100%",
              duration: DURATION,
              ease: "none",
              onComplete: switchToNextTab,
            });
          }
          tabButtons.forEach((button) => {
            button.addEventListener("click", () => {
              const tabId = button.dataset.tab;
              if (tabId !== tabOrder[currentIndex]) {
                updateFeature(tabId);
              }
            });
            button.addEventListener("mouseenter", () => {
              if (!button.classList.contains("active"))
                gsap.to(button, {
                  scale: 1.02,
                  duration: 0.2,
                  ease: "power1.out",
                });
            });
            button.addEventListener("mouseleave", () => {
              if (!button.classList.contains("active"))
                gsap.to(button, {
                  scale: 1,
                  duration: 0.2,
                  ease: "power1.out",
                });
            });
          });
          const initialTabId = tabOrder[0];
          gsap.set(document.querySelector([data-content="${initialTabId}"]), {
            autoAlpha: 1,
            y: 0,
          });
          updateFeature(initialTabId);
        }

        // --- STATISTICS ANIMATION LOGIC ---
        const statsSection = document.getElementById("statistics");
        const statsObserver = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const bars = document.querySelectorAll("#statistics .bar-row");
                bars.forEach((row, i) => {
                  const targetWidth = row.dataset.width,
                    targetValue = parseInt(row.dataset.value);
                  const fill = row.querySelector(".bar-bg div"),
                    num = row.querySelector(".num");
                  setTimeout(() => {
                    fill.style.width = targetWidth + "%";
                  }, i * 150);
                  let start = 0,
                    duration = 2000,
                    stepTime = 20;
                  const increment = targetValue / (duration / stepTime);
                  const counter = setInterval(() => {
                    start += increment;
                    if (start >= targetValue) {
                      start = targetValue;
                      clearInterval(counter);
                    }
                    num.textContent = Math.floor(start).toLocaleString();
                  }, stepTime);
                });
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.1 }
        );
        statsObserver.observe(statsSection);

        // --- FADE-IN ON SCROLL OBSERVER ---
        const fadeInSections = document.querySelectorAll(".fade-in-section");
        const sectionObserver = new IntersectionObserver(
          (entries, observer) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("is-visible");
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.1 }
        );
        fadeInSections.forEach((section) => {
          sectionObserver.observe(section);
        });
      });
    </script>
  </body>
</html>
